<%- include("navbar.ejs") %>
<div class="container my-5">
  <div class="row justify-content-center">
    <div class="col-md-10">
      <div class="card shadow-sm border-0">
        <div class="card-body p-4">

          <h4 class="fw-bold text-primary mb-4"><i class="bi bi-pencil-square me-1"></i> Edit Employee Profile</h4>

          <form action="/employee/update_profile" method="POST" enctype="multipart/form-data">

            <!-- Personal Information -->
            <h5 class="section-title"><i class="bi bi-person-fill me-1"></i> Personal Information</h5>
            <div class="row g-3 mb-4">
              <div class="col-md-6">
                <label class="form-label fw-semibold">Employee ID</label>
                <input type="text" name="employee_id" class="form-control" value="<%-employee[0].employee_id%>" readonly>
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Employee Name</label>
                <input type="text" name="employee_name" class="form-control" value="<%-employee[0].employee_name%>" required>
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Mobile Number</label>
                <input type="text" name="employee_mobile" class="form-control" value="<%-employee[0].employee_mobile%>" required>
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Email Address</label>
                <input type="email" name="employee_email" class="form-control" value="<%-employee[0].employee_email%>" required>
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Password</label>
                <input type="password" name="employee_password" class="form-control" value="<%-employee[0].employee_password%>" required>
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Alternate Mobile</label>
                <input type="text" name="alternate_mobile" class="form-control" value="<%-employee[0].alternate_mobile%>" required>
              </div>
              <div class="col-md-12">
                <label class="form-label fw-semibold">Address</label>
                <input type="text" name="employee_address" class="form-control" value="<%-employee[0].employee_address%>" required>
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Pincode</label>
                <input type="text" name="employee_pincode" class="form-control" value="<%-employee[0].employee_pincode%>" required>
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Date of Birth</label>
                <input type="date" name="employee_dob" class="form-control" value="<%-employee[0].employee_dob%>" required>
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Marital Status</label>
                <select name="maritial_status" class="form-select" required>
                  <option value="<%-employee[0].maritial_status%>" selected><%-employee[0].maritial_status%></option>
                  <option value="Single">Single</option>
                  <option value="Married">Married</option>
                  <option value="Divorced">Divorced</option>
                  <option value="Widowed">Widowed</option>
                </select>
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Gender</label>
                <select name="gender" class="form-select" required>
                  <option value="<%-employee[0].gender%>" selected><%-employee[0].gender%></option>
                  <option value="Male">Male</option>
                  <option value="Female">Female</option>
                  <option value="Other">Other</option>
                </select>
              </div>
            </div>

            <!-- Professional Information -->
            <h5 class="section-title"><i class="bi bi-briefcase-fill me-1"></i> Professional Information</h5>
            <div class="row g-3 mb-4">
              <div class="col-md-6">
                <label class="form-label fw-semibold">Current Designation</label>
                <input type="text" name="current_designation" class="form-control" value="<%-employee[0].current_designation%>" required>
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Experience Year</label>
                <input type="text" name="experience_year" class="form-control" value="<%-employee[0].experience_year%>" required>
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Current Salary</label>
                <input type="text" name="current_salary" class="form-control" value="<%-employee[0].current_salary%>" required>
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Expected Salary</label>
                <input type="text" name="expected_salary" class="form-control" value="<%-employee[0].expected_salary%>" required>
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Preferred Job Type</label>
                <input type="text" name="preferred_job_type" class="form-control" value="<%-employee[0].preferred_job_type%>" required>
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Preferred Locations</label>
                <input type="text" name="preferred_locations" class="form-control" value="<%-employee[0].preferred_locations%>" required>
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Skills Summary</label>
                <input type="text" name="skills_summary" class="form-control" value="<%-employee[0].skills_summary%>" required>
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Language Known</label>
                <input type="text" name="language_known" class="form-control" value="<%-employee[0].language_known%>" required>
              </div>
            </div>

            <!-- Links and Files -->
            <h5 class="section-title"><i class="bi bi-link-45deg me-1"></i> Links & Files</h5>
            <div class="row g-3 mb-4">
              <div class="col-md-6">
                <label class="form-label fw-semibold">LinkedIn URL</label>
                <input type="text" name="linkdin_url" class="form-control" value="<%-employee[0].linkdin_url%>">
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">GitHub URL</label>
                <input type="text" name="github_url" class="form-control" value="<%-employee[0].github_url%>">
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Portfolio URL</label>
                <input type="text" name="portfolio_url" class="form-control" value="<%-employee[0].portfolio_url%>">
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Resume</label>
                <input type="file" name="employee_resume" class="form-control">
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Profile Photo</label>
                <input type="file" name="profile_photo" class="form-control">
              </div>
            </div>

            <!-- Status & Verification -->
            <h5 class="section-title"><i class="bi bi-shield-check me-1"></i> Status & Verification</h5>
            <div class="row g-3 mb-4">
              <div class="col-md-6">
                <label class="form-label fw-semibold">Status</label>
                <select name="status" class="form-select" required>
                  <option value="<%-employee[0].status%>" selected><%-employee[0].status%></option>
                  <option value="Active">Active</option>
                  <option value="Inactive">Inactive</option>
                </select>
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Is Verified</label>
                <select name="is_verified" class="form-select" required>
                  <option value="<%-employee[0].is_verified%>" selected><%-employee[0].is_verified%></option>
                  <option value="Yes">Yes</option>
                  <option value="No">No</option>
                </select>
              </div>
            </div>

            <!-- Record Info -->
            <h5 class="section-title"><i class="bi bi-calendar-event-fill me-1"></i> Record Info</h5>
            <div class="row g-3 mb-4">
              <div class="col-md-6">
                <label class="form-label fw-semibold">Created At</label>
                <input type="text" name="created_at" class="form-control" value="<%-employee[0].created_at%>" readonly>
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Updated At</label>
                <input type="text" name="updated_at" class="form-control" value="<%-employee[0].updated_at%>" readonly>
              </div>
            </div>

            <!-- Submit Button -->
            <div class="text-end">
              <button type="submit" class="btn btn-primary px-4">
                <i class="bi bi-check2-circle me-1"></i> Update Profile
              </button>
              <a href="/employee/profile" class="btn btn-outline-secondary px-4 ms-2">
                <i class="bi bi-arrow-left-circle me-1"></i> Back to Profile
              </a>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Bootstrap CDN -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>

<%- include('footer.ejs') %>