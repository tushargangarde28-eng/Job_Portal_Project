<%- include("navbar.ejs") %>

<div class="container mt-4">
  <div class="card shadow-sm border-0">
    <div class="card-header bg-primary text-dark fw-semibold">
      Edit Experience
    </div>
    <div class="card-body">
      <form action="/employee/update_experience/<%- experience[0].experience_id %>" method="post">

        <!-- Hidden Experience ID -->
        <input type="hidden" name="experience_id" value="<%- experience[0].experience_id %>">

        <!-- Company Name -->
        <div class="mb-3">
          <label for="company_name" class="form-label fw-semibold">Company Name</label>
          <input type="text" class="form-control" id="company_name" name="company_name"
                 value="<%- experience[0].company_name %>" required>
        </div>

        <!-- Job Title -->
        <div class="mb-3">
          <label for="job_title" class="form-label fw-semibold">Job Title</label>
          <input type="text" class="form-control" id="job_title" name="job_title"
                 value="<%- experience[0].job_title %>" required>
        </div>

        <!-- Start & End Dates -->
        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="start_date" class="form-label fw-semibold">Start Date</label>
            <input type="date" class="form-control" id="start_date" name="start_date"
                   value="<%- experience[0].start_date.toISOString().split('T')[0] %>" required>
          </div>
          <div class="col-md-6 mb-3">
            <label for="end_date" class="form-label fw-semibold">End Date</label>
            <input type="date" class="form-control" id="end_date" name="end_date"
                   value="<%- experience[0].end_date ? experience[0].end_date.toISOString().split('T')[0] : '' %>">
          </div>
        </div>

        <!-- Status -->
        <div class="mb-3">
          <label for="status" class="form-label fw-semibold">Status</label>
          <select class="form-select" id="status" name="status" required>
            <option value="" disabled>Select status</option>
            <option value="Working" <%= experience[0].status === 'Working' ? 'selected' : '' %>>Working</option>
            <option value="Complete" <%= experience[0].status === 'Complete' ? 'selected' : '' %>>Complete</option>
          </select>
        </div> 

        <!-- Submit Button -->
        <div class="text-end">
          <button type="submit" class="btn btn-primary text-white fw-semibold">
            <i class="bi bi-pencil-square me-1"></i> Update Experience
          </button>
          <a href="/employee/profile" class="btn btn-outline-secondary px-4 ms-2">
                <i class="bi bi-arrow-left-circle me-1"></i> Back to Profile
              </a>
        </div>
      </form>
    </div>
  </div>
</div>

<%- include("footer.ejs") %>
 